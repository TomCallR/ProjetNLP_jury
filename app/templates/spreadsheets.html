{% from "macros.html" import render_field, render_submit %}

{% extends "base.html" %}

{% block content %}

<h1>Liste des fichiers</h1>

<p>Dans cette liste, seules sont sélectionnées les formations en cours après le {{ form.enddate.data }} et
    qui ne débutent pas dans le futur</p>

<table class="table">
    <thead>
    <tr>
        <th>Sél.</th>
        <th>Id</th>
        <th>Formation</th>
        <th>Date début</th>
        <th>Date fin</th>
        <th>Fichier</th>
        <th>Nb onglets</th>
        <th>Dern. saisie</th>
        <th>Dern. lecture</th>

    </tr>
    </thead>
    <tbody>
    {% for course in courses %}
    <tr>
        <td>{{ course.check }}</td>
        <td>{{ course.Course.id }}</td>
        <td>{{ course.Course.label }}</td>
        <td>{{ course.Course.startdate }}</td>
        <td>{{ course.Course.enddate }}</td>
        {% if course.Course.spreadsheet == "" %}
            <td>{{ course.Course.spreadsheet }}</td>
            <td>{{ course.sheetcount }}</td>
            <td>{{ course.lastentrydate }}</td>
            <td>{{ course.lastreaddate }}</td>
        {% else %}
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
        {% endif %}
    </tr>
    {% endfor %}
    </tbody>
</table>

<form action="" class="form" method="post" novalidate>
    {{ form.hidden_tag() }}
    {{ render_field(form.enddate, class='form-control') }}
    {{ render_submit(form.submit, class='btn btn-warning btn-block') }}
</form>

{% endblock %}